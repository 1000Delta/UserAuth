# UserAuth 用户鉴权

## 功能设计

通过 HTTP Restful API 进行应用通信，实现用户登录，鉴权等功能。

业务系统通过将用户登录后获取的令牌传递到系统来进行鉴权。

使用 RBAC 设计将用户和角色分离，需要鉴权的服务通过将用户令牌和需要的权限作为参数调用 API 来检查用户是否具有权限。

除令牌外，系统不需要返回任何多余信息，通过 HTTP 状态码即可对用户信息做判别。

### 业务系统如何告诉鉴权系统需要什么权限？

目前有两种方式（假设 HTTP 通用服务调用）：

1. 业务系统对于需要鉴权的模块做了权限划分，然后将需要的权限在鉴权系统中注册，通信时传递权限名。
2. 业务系统直接传递业务 API 路径，然后在鉴权系统中注册权限，权限区分 API 路径。

### API 设计

采用 OpenAPI 3 进行设计，查看 API 文档请使用 Swagger-UI 或者 ReDoc 打开 [openapi.yml](./openapi.yml)
